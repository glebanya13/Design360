(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851,822],{9984:function(e,t,a){Promise.resolve().then(a.bind(a,8890))},8890:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),r=a(2265),i=a(822);function n(){let[e,t]=(0,r.useState)(!0),[a,n]=(0,r.useState)(!1),[o,l]=(0,r.useState)({site:{title:"",description:"",phone:"",email:"",address:""},settings:{theme:{primaryColor:"#2563eb",secondaryColor:"#64748b",accentColor:"#f59e0b"},seo:{metaTitle:"",metaDescription:"",keywords:""},contact:{workingHours:"",socialMedia:{instagram:"",telegram:"",whatsapp:""}}}});(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{t(!0);let e=await i.jI.get();e&&l({site:e.site,settings:{...e.settings,seo:{...e.settings.seo,keywords:e.settings.seo.keywords.join(", ")}}})}catch(e){alert("Ошибка загрузки настроек")}finally{t(!1)}},c=async e=>{e.preventDefault();try{n(!0);let e=o.settings.seo.keywords.split(",").map(e=>e.trim()).filter(e=>e.length>0);await i.jI.update({site:o.site,settings:{...o.settings,seo:{...o.settings.seo,keywords:e}}}),alert("Настройки сохранены!")}catch(e){alert("Ошибка сохранения настроек")}finally{n(!1)}},u=(e,t)=>{l(a=>{let s={...a},r=s;for(let t=0;t<e.length-1;t++)r=r[e[t]];return r[e[e.length-1]]=t,s})};return e?(0,s.jsx)("div",{className:"admin-loading",children:"Загрузка настроек..."}):(0,s.jsxs)("div",{className:"admin-page",children:[(0,s.jsx)("h1",{className:"admin-page-title",children:"Настройки сайта"}),(0,s.jsx)("p",{className:"admin-page-description",children:"Управляйте основной информацией, контактами и SEO настройками сайта."}),(0,s.jsxs)("form",{onSubmit:c,className:"admin-settings-form",children:[(0,s.jsxs)("section",{className:"admin-settings-section",children:[(0,s.jsx)("h2",{className:"admin-settings-section-title",children:"Информация о сайте"}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Название сайта"}),(0,s.jsx)("input",{type:"text",value:o.site.title,onChange:e=>u(["site","title"],e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Описание"}),(0,s.jsx)("textarea",{value:o.site.description,onChange:e=>u(["site","description"],e.target.value),required:!0,rows:3})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Телефон"}),(0,s.jsx)("input",{type:"text",value:o.site.phone,onChange:e=>u(["site","phone"],e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{type:"email",value:o.site.email,onChange:e=>u(["site","email"],e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Адрес"}),(0,s.jsx)("input",{type:"text",value:o.site.address,onChange:e=>u(["site","address"],e.target.value),required:!0})]})]}),(0,s.jsxs)("section",{className:"admin-settings-section",children:[(0,s.jsx)("h2",{className:"admin-settings-section-title",children:"SEO настройки"}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Meta Title"}),(0,s.jsx)("input",{type:"text",value:o.settings.seo.metaTitle,onChange:e=>u(["settings","seo","metaTitle"],e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Meta Description"}),(0,s.jsx)("textarea",{value:o.settings.seo.metaDescription,onChange:e=>u(["settings","seo","metaDescription"],e.target.value),required:!0,rows:3})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Ключевые слова (через запятую)"}),(0,s.jsx)("input",{type:"text",value:o.settings.seo.keywords,onChange:e=>u(["settings","seo","keywords"],e.target.value),required:!0})]})]}),(0,s.jsxs)("section",{className:"admin-settings-section",children:[(0,s.jsx)("h2",{className:"admin-settings-section-title",children:"Контакты"}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Часы работы"}),(0,s.jsx)("input",{type:"text",value:o.settings.contact.workingHours,onChange:e=>u(["settings","contact","workingHours"],e.target.value),required:!0,placeholder:"Пн-Пт: 9:00-18:00, Сб: 10:00-16:00"})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Instagram"}),(0,s.jsx)("input",{type:"text",value:o.settings.contact.socialMedia.instagram,onChange:e=>u(["settings","contact","socialMedia","instagram"],e.target.value)})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Telegram"}),(0,s.jsx)("input",{type:"text",value:o.settings.contact.socialMedia.telegram,onChange:e=>u(["settings","contact","socialMedia","telegram"],e.target.value)})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"WhatsApp"}),(0,s.jsx)("input",{type:"text",value:o.settings.contact.socialMedia.whatsapp,onChange:e=>u(["settings","contact","socialMedia","whatsapp"],e.target.value)})]})]}),(0,s.jsxs)("section",{className:"admin-settings-section",children:[(0,s.jsx)("h2",{className:"admin-settings-section-title",children:"Цветовая схема"}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Основной цвет"}),(0,s.jsx)("input",{type:"color",value:o.settings.theme.primaryColor,onChange:e=>u(["settings","theme","primaryColor"],e.target.value)})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Вторичный цвет"}),(0,s.jsx)("input",{type:"color",value:o.settings.theme.secondaryColor,onChange:e=>u(["settings","theme","secondaryColor"],e.target.value)})]}),(0,s.jsxs)("div",{className:"admin-form-group",children:[(0,s.jsx)("label",{children:"Акцентный цвет"}),(0,s.jsx)("input",{type:"color",value:o.settings.theme.accentColor,onChange:e=>u(["settings","theme","accentColor"],e.target.value)})]})]}),(0,s.jsx)("div",{className:"admin-form-actions",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Сохранение...":"Сохранить настройки"})})]})]})}a(6809)},822:function(e,t,a){"use strict";let s,r;a.d(t,{catalogCategoriesService:function(){return g},$I:function(){return u},productsService:function(){return l},Td:function(){return h},Fb:function(){return d},jI:function(){return c}});var i=a(5978),n=a(738),o=a(2148);try{(s=(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)({apiKey:"AIzaSyCFdipmaKMbvOTMX4u7-_ZSC4ceLJzLmeA",authDomain:"design360-efab7.firebaseapp.com",projectId:"design360-efab7",storageBucket:"design360-efab7.firebasestorage.app",messagingSenderId:"912484941208",appId:"1:912484941208:web:ae34a702a3ed0ed7a4ffed"}))&&(r=(0,i.ad)(s),(0,o.v0)(s))}catch(e){}let l={async getAll(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.hJ)(r,"products");return(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))},async getById(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"products",e),a=await (0,i.QT)(t);return a.exists()?{id:a.id,...a.data()}:null},async create(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.hJ)(r,"products"),a=(0,i.JU)(t);return await (0,i.pl)(a,{...e,createdAt:i.EK.now(),updatedAt:i.EK.now()}),a.id},async update(e,t){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let a=(0,i.JU)(r,"products",e);await (0,i.r7)(a,{...t,updatedAt:i.EK.now()})},async delete(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"products",e);await (0,i.oe)(t)}},d={async getAll(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.hJ)(r,"services");return(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()}))},async getById(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"services",e),a=await (0,i.QT)(t);return a.exists()?{id:a.id,...a.data()}:null},async create(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.hJ)(r,"services"),a=(0,i.JU)(t);return await (0,i.pl)(a,{...e,createdAt:i.EK.now(),updatedAt:i.EK.now()}),a.id},async update(e,t){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let a=(0,i.JU)(r,"services",e);await (0,i.r7)(a,{...t,updatedAt:i.EK.now()})},async delete(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"services",e);await (0,i.oe)(t)}},c={async get(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.JU)(r,"settings","site"),t=await (0,i.QT)(e);return t.exists()?{id:t.id,...t.data()}:null},async update(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"settings","site");(await (0,i.QT)(t)).exists()?await (0,i.r7)(t,{...e,updatedAt:i.EK.now()}):await (0,i.pl)(t,{...e,updatedAt:i.EK.now()})}},u={async getAll(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.hJ)(r,"packages");return(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>(e.order||0)-(t.order||0))},async getById(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"packages",e),a=await (0,i.QT)(t);return a.exists()?{id:a.id,...a.data()}:null},async create(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.hJ)(r,"packages"),a=(0,i.JU)(t);return await (0,i.pl)(a,{...e,createdAt:i.EK.now(),updatedAt:i.EK.now()}),a.id},async update(e,t){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let a=(0,i.JU)(r,"packages",e);await (0,i.r7)(a,{...t,updatedAt:i.EK.now()})},async delete(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"packages",e);await (0,i.oe)(t)}},g={async getAll(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.hJ)(r,"catalogCategories");return(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>(e.order||0)-(t.order||0))},async create(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.hJ)(r,"catalogCategories"),a=(0,i.JU)(t);return await (0,i.pl)(a,{...e,createdAt:i.EK.now(),updatedAt:i.EK.now()}),a.id},async update(e,t){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let a=(0,i.JU)(r,"catalogCategories",e);await (0,i.r7)(a,{...t,updatedAt:i.EK.now()})},async delete(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"catalogCategories",e);await (0,i.oe)(t)}},h={async getAll(){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let e=(0,i.hJ)(r,"serviceCategories");return(await (0,i.PL)(e)).docs.map(e=>({id:e.id,...e.data()})).sort((e,t)=>(e.order||0)-(t.order||0))},async create(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.hJ)(r,"serviceCategories"),a=(0,i.JU)(t);return await (0,i.pl)(a,{...e,createdAt:i.EK.now(),updatedAt:i.EK.now()}),a.id},async update(e,t){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let a=(0,i.JU)(r,"serviceCategories",e);await (0,i.r7)(a,{...t,updatedAt:i.EK.now()})},async delete(e){if(!r)throw Error("Firebase не инициализирован. Убедитесь, что код выполняется на клиенте.");let t=(0,i.JU)(r,"serviceCategories",e);await (0,i.oe)(t)}}},6809:function(){}},function(e){e.O(0,[314,982,609,324,351,971,117,744],function(){return e(e.s=9984)}),_N_E=e.O()}]);