(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{6359:function(e,a,s){Promise.resolve().then(s.bind(s,9383))},9383:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return r}});var i=s(7437),c=s(2265),n=s(6847);s(261);let t=new Intl.NumberFormat("ru-RU");function r(){let[e,a]=(0,c.useState)("Все категории"),[r,l]=(0,c.useState)(!1),[d,o]=(0,c.useState)("grid"),[m,h]=(0,c.useState)(1),[u,x]=(0,c.useState)(["Все категории"]),[p,j]=(0,c.useState)([]),[g,N]=(0,c.useState)(!0),[b,v]=(0,c.useState)({minPrice:"",maxPrice:"",category:""});(0,c.useEffect)(()=>{(async()=>{try{let{catalogCategoriesService:e,productsService:a}=await Promise.all([s.e(609),s.e(324),s.e(351),s.e(822)]).then(s.bind(s,822));try{let a=await e.getAll(),s=["Все категории",...a.map(e=>e.name)],i=Array.from(new Set(s));x(i)}catch(e){x(["Все категории","Мебель","Декор","Освещение","Текстиль","Для бизнеса"])}try{N(!0);let e=await a.getAll();j(e)}catch(e){j([])}finally{N(!1)}}catch(e){N(!1)}})()},[]);let f=p.filter(a=>{let s=!0,i=b.category||("Все категории"!==e?e:"");if(i&&(s=s&&a.category===i),b.minPrice&&""!==b.minPrice){let e=parseInt(b.minPrice);isNaN(e)||(s=s&&a.price>=e)}if(b.maxPrice&&""!==b.maxPrice){let e=parseInt(b.maxPrice);isNaN(e)||(s=s&&a.price<=e)}return s}),y=Math.ceil(f.length/6),C=(m-1)*6,P=f.slice(C,C+6);return(0,i.jsxs)("div",{className:"catalog-page",children:[(0,i.jsx)(n.Z,{categories:u,activeCategory:e,onCategoryChange:a,type:"button"}),(0,i.jsxs)("div",{className:"main-container",children:[(0,i.jsxs)("div",{className:"breadcrumbs",children:[(0,i.jsx)("a",{href:"/",children:"Главная"}),(0,i.jsx)("span",{children:"›"}),(0,i.jsx)("span",{children:"Каталог"})]}),(0,i.jsxs)("div",{className:"catalog-header",children:[(0,i.jsx)("h1",{className:"catalog-title",children:"Каталог товаров"}),(0,i.jsx)("p",{className:"catalog-description",children:"Более 5000 товаров для создания идеального интерьера. Мебель, декор, освещение и текстиль от проверенных производителей."})]}),(0,i.jsxs)("div",{className:"catalog-banners",children:[(0,i.jsxs)("div",{className:"catalog-banner",children:[(0,i.jsx)("h3",{children:"Скидка 20% на первую покупку"}),(0,i.jsx)("p",{children:"Для новых клиентов при заказе от 10 000 ₽"}),(0,i.jsx)("button",{className:"banner-btn",children:"Получить скидку"})]}),(0,i.jsxs)("div",{className:"catalog-banner",style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"},children:[(0,i.jsx)("h3",{children:"Бесплатная доставка"}),(0,i.jsx)("p",{children:"При заказе от 15 000 ₽ по всей России"}),(0,i.jsx)("button",{className:"banner-btn",children:"Подробнее"})]})]}),(0,i.jsxs)("div",{className:"main-content",children:[(0,i.jsx)("aside",{className:"sidebar",children:(0,i.jsxs)("div",{className:"filters",children:[(0,i.jsx)("h3",{children:"Фильтры"}),(0,i.jsxs)("div",{className:"filter-group",children:[(0,i.jsx)("label",{htmlFor:"price-range",children:"Цена, ₽"}),(0,i.jsxs)("div",{className:"price-inputs",children:[(0,i.jsxs)("div",{className:"price-input-wrapper",children:[(0,i.jsx)("label",{htmlFor:"min-price",className:"price-input-label",children:"От"}),(0,i.jsx)("input",{type:"number",id:"min-price",placeholder:"0",value:b.minPrice,onChange:e=>v({...b,minPrice:e.target.value})})]}),(0,i.jsxs)("div",{className:"price-input-wrapper",children:[(0,i.jsx)("label",{htmlFor:"max-price",className:"price-input-label",children:"До"}),(0,i.jsx)("input",{type:"number",id:"max-price",placeholder:"100000",value:b.maxPrice,onChange:e=>v({...b,maxPrice:e.target.value})})]})]})]}),(0,i.jsxs)("div",{className:"filter-group",children:[(0,i.jsx)("label",{htmlFor:"category",children:"Категория"}),(0,i.jsxs)("select",{id:"category",value:b.category,onChange:e=>v({...b,category:e.target.value}),children:[(0,i.jsx)("option",{value:"",children:"Все категории"}),u.filter(e=>"Все категории"!==e).map((e,a)=>(0,i.jsx)("option",{value:e,children:e},"".concat(e,"-").concat(a)))]})]}),(0,i.jsx)("button",{className:"filter-btn filter-apply",onClick:()=>{b.category&&a(b.category),h(1)},children:"Применить фильтры"}),(0,i.jsx)("button",{className:"filter-btn filter-reset",onClick:()=>{v({minPrice:"",maxPrice:"",category:""}),a("Все категории"),h(1)},children:"Сбросить"})]})}),(0,i.jsxs)("main",{className:"products-area",children:[(0,i.jsxs)("div",{className:"products-header",children:[(0,i.jsxs)("div",{className:"products-info",children:[(0,i.jsxs)("span",{className:"products-count",children:["Найдено ",f.length," товаров"]}),(0,i.jsxs)("span",{className:"products-sort",children:["Страница ",m," из ",y]})]}),(0,i.jsxs)("div",{className:"view-options",children:[(0,i.jsx)("button",{className:"view-btn ".concat("grid"===d?"active":""),onClick:()=>o("grid"),children:"Сетка"}),(0,i.jsx)("button",{className:"view-btn ".concat("list"===d?"active":""),onClick:()=>o("list"),children:"Список"})]})]}),(0,i.jsx)("div",{className:"products-grid ".concat("list"===d?"list-view":""),children:g?(0,i.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem"},children:"Загрузка товаров..."}):0===P.length?(0,i.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem"},children:"Товары не найдены"}):P.map(e=>(0,i.jsxs)("div",{className:"product-card ".concat("list"===d?"list-item":""),children:[(0,i.jsx)("div",{className:"product-image",children:(0,i.jsx)("img",{src:e.image,alt:e.name})}),(0,i.jsxs)("div",{className:"product-info",children:[(0,i.jsx)("h3",{className:"product-name",children:e.name}),(0,i.jsx)("p",{className:"product-description",children:e.description}),(0,i.jsxs)("div",{className:"product-price",children:[t.format(e.price)," ₽"]}),(0,i.jsx)("div",{className:"product-category",children:e.category})]}),(0,i.jsxs)("div",{className:"product-actions",children:[(0,i.jsx)("button",{className:"btn btn-primary",children:"В корзину"}),(0,i.jsx)("button",{className:"btn btn-outline",children:"Подробнее"})]})]},e.id))}),y>1&&(0,i.jsxs)("div",{className:"pagination",children:[(0,i.jsx)("button",{className:"pagination-btn",onClick:()=>h(Math.max(1,m-1)),disabled:1===m,children:"‹"}),Array.from({length:y},(e,a)=>a+1).map(e=>(0,i.jsx)("button",{className:"pagination-btn ".concat(m===e?"active":""),onClick:()=>h(e),children:e},e)),(0,i.jsx)("button",{className:"pagination-btn",onClick:()=>h(Math.min(y,m+1)),disabled:m===y,children:"›"})]})]})]})]})]})}},6847:function(e,a,s){"use strict";s.d(a,{C:function(){return c}});var i=s(7437);s(2265),s(5384);let c=e=>{let{categories:a,activeCategory:s,onCategoryChange:c,type:n="button"}=e;return(0,i.jsx)("nav",{className:"categories-nav",children:(0,i.jsx)("ul",{className:"categories-list",children:a.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:s===e?"active":"",onClick:()=>c(e),children:e})},e))})})};a.Z=c},261:function(){},5384:function(){}},function(e){e.O(0,[146,918,971,117,744],function(){return e(e.s=6359)}),_N_E=e.O()}]);